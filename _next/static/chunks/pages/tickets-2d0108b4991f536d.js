(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{1568:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets",function(){return t(23)}])},23:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(5893),n=t(3051),i=t(5788),u=t(7294),l=t(4103),a=t(7629),c=t(4733),d=t(9312);let m=e=>{let{ticket:s}=e;if(!s.draw)return null;let t=s.draw.numbers.map(e=>s.numbers.includes(e)).reduce((e,s)=>s+(e?1:0),0);return t>1?(0,r.jsx)(a.Z.Prize,{}):(0,r.jsx)(a.Z.NoWin,{})},o=e=>{let{lottery:s,account:t}=e,[n,i]=(0,u.useState)([]);return(0,u.useEffect)(()=>{(async()=>{let e=(await s.getTicketIds(t)).sort((e,s)=>s-e);i(await Promise.all(e.map(e=>s.getTicket(e))))})()},[t,s]),(0,r.jsx)("section",{className:"draws d-flex justify-content-start align-items-center flex-column flex-lg-row align-items-lg-start",children:n.map((e,s)=>{var t;return(0,r.jsxs)(a.Z,{date:e.date,children:[e.draw?(0,r.jsx)(a.Z.Numbers,{title:"Drawn Numbers",numbers:e.draw.numbers,highlightedNumbers:e.numbers}):null,(0,r.jsx)(a.Z.Numbers,{title:"Your Numbers",numbers:e.numbers,highlightedNumbers:null===(t=e.draw)||void 0===t?void 0:t.numbers}),(0,r.jsx)(m,{ticket:e})]},s)})})},x=()=>{let{account:e}=(0,l.Ge)();return(0,r.jsx)("section",{className:"past-draws",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(d.N,{title:"My Tickets"}),e?(0,r.jsx)(c.r.Consumer,{children:s=>(0,r.jsx)(o,{lottery:s,account:e})}):(0,r.jsx)("article",{children:(0,r.jsx)("p",{className:"past-draws__descr",children:"Please connect your wallet."})})]})})};function h(){return(0,r.jsxs)(i.t,{children:[(0,r.jsx)(n.h,{}),(0,r.jsx)(x,{})]})}}},function(e){e.O(0,[509,328,774,888,179],function(){return e(e.s=1568)}),_N_E=e.O()}]);